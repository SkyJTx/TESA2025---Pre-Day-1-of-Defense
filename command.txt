# Command Examples for delete-bg Project

## USING AS INSTALLED PACKAGE (after installation)
# After running: pip install . or uv pip install .
defense-utils --mode batch_image --input-dir pictures/day2_test --output-dir outputs/day2_test
defense-utils --mode extract_images --video-path videos/P1_VIDEO_5.mp4 --extract-output-dir pictures/p5

## OR as module
uv run -m defense_utils --mode batch_image --input-dir pictures/day2_test --output-dir outputs/day2_test

## USING MAIN.PY DIRECTLY

## 1. Batch Process Images (with default config)
uv run main.py --mode batch_image --input-dir pictures/day2_test --output-dir outputs/day2_test

## 2. Extract Frames from Video (with default config)
uv run main.py --mode extract_images --video-path videos/P1_VIDEO_5.mp4 --extract-output-dir pictures/p5

## 3. Create Video from Images (with default config)
uv run main.py --mode concat_images_to_video --concat-input-dir pictures/day2_train --video-output-path outputs/day2_train_video.mp4

## 4. Visualize Processing Steps (custom mode)
uv run main.py --mode custom

## 5. Run without arguments (defaults to custom mode)
uv run main.py

## ADVANCED EXAMPLES - Custom Configuration

## 6. Batch Process with Custom Image Processing Config
uv run main.py --mode batch_image --input-dir pictures/day2_test --output-dir outputs/day2_test --threshold-min 30 --threshold-max 250 --dilation-kernel-size 35 --dim-factor 0.5

## 7. Extract Frames with Custom Interval
uv run main.py --mode extract_images --video-path videos/P1_VIDEO_5.mp4 --extract-output-dir pictures/p5 --frame-extraction-interval 15 --frame-extraction-name-head frame

## 8. Create Video with Custom Video Settings
uv run main.py --mode concat_images_to_video --concat-input-dir pictures/day2_train --video-output-path outputs/custom_video.mp4 --fps 30 --codec XVID

## 9. Batch Process with ALL Custom Settings
uv run main.py --mode batch_image \
  --input-dir pictures/day2_test \
  --output-dir outputs/day2_test \
  --threshold-min 25 \
  --threshold-max 255 \
  --first-dilation-kernel-size 9 \
  --first-dilation-iterations 1 \
  --min-area-ratio 0 \
  --max-area-ratio 0.1 \
  --median-filter-kernel-size 5 \
  --dilation-kernel-size 29 \
  --dilation-iterations 1 \
  --erosion-kernel-size 3 \
  --erosion-iterations 1 \
  --close-kernel-size 99 \
  --close-iterations 1 \
  --highlight-min-area 0 \
  --highlight-max-area-ratio 0.02 \
  --third-dilation-kernel-size 9 \
  --third-dilation-iterations 1 \
  --dim-factor 0 \
  --fps 25 \
  --codec mp4v

## DEFAULT CONFIGURATION VALUES
# Combined Processing Config (used when not overridden):
#   - threshold_min: 25
#   - threshold_max: 255
#   - first_dilation_kernel_size: 9
#   - first_dilation_iterations: 1
#   - min_area_ratio: 0
#   - max_area_ratio: 0.1
#   - median_filter_kernel_size: 5
#   - dilation_kernel_size: 29
#   - dilation_iterations: 1
#   - erosion_kernel_size: 3
#   - erosion_iterations: 1
#   - close_kernel_size: 99
#   - close_iterations: 1
#   - highlight_min_area: 0
#   - highlight_max_area_ratio: 0.02
#   - third_dilation_kernel_size: 9
#   - third_dilation_iterations: 1
#   - dim_factor: 0
#
# Video Creation Config (used when not overridden):
#   - fps: 25
#   - codec: mp4v
#
# Frame Extraction Config (used when not overridden):
#   - frame_extraction_interval: 25
#   - frame_extraction_name_head: extracted_frame
